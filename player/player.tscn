[gd_scene load_steps=22 format=3 uid="uid://cveiyoy15wew4"]

[ext_resource type="Script" uid="uid://c7qco6ebf2l72" path="res://player/player.gd" id="1_rkbax"]
[ext_resource type="Texture2D" uid="uid://cnrpl5elw8qg5" path="res://player/sprite/shadow.png" id="2_g1dw6"]
[ext_resource type="SpriteFrames" uid="uid://18w4y5eq60p" path="res://player/playersprite.tres" id="2_rkbax"]
[ext_resource type="Texture2D" uid="uid://ndgsipcqraay" path="res://basegame/sprites/touch_controls/up.png" id="4_2ieo8"]
[ext_resource type="Texture2D" uid="uid://biuk4grhjaxd8" path="res://basegame/sprites/touch_controls/up_pressed.png" id="5_ebec5"]
[ext_resource type="Texture2D" uid="uid://dxb2cbr14alkk" path="res://basegame/sprites/touch_controls/down.png" id="6_yllr7"]
[ext_resource type="Texture2D" uid="uid://ot7u6ik3t3rv" path="res://basegame/sprites/touch_controls/down_pressed.png" id="7_kb6p2"]
[ext_resource type="Texture2D" uid="uid://cbhx2wtjoefgf" path="res://basegame/sprites/touch_controls/left.png" id="8_wodsf"]
[ext_resource type="Texture2D" uid="uid://7sqcyyc83gxq" path="res://basegame/sprites/touch_controls/left_pressed.png" id="9_32hag"]
[ext_resource type="Texture2D" uid="uid://duek2ilmbv2ru" path="res://basegame/sprites/touch_controls/right.png" id="10_tqiix"]
[ext_resource type="Texture2D" uid="uid://btdssmc6e8unn" path="res://basegame/sprites/touch_controls/right_pressed.png" id="11_e7oew"]
[ext_resource type="Texture2D" uid="uid://beponx1f7rlgr" path="res://basegame/sprites/touch_controls/confirm.png" id="12_yllr7"]
[ext_resource type="Texture2D" uid="uid://cmidwd7i81bem" path="res://basegame/sprites/touch_controls/confirm_pressed.png" id="13_kb6p2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g1dw6"]
size = Vector2(12, 36)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oul6g"]
size = Vector2(12, 9)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2ieo8"]
size = Vector2(20, 28)

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_2ieo8"]
points = PackedVector2Array(-32, -16, 32, -16, 32, 0, 0, 16, -32, 0)

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_ebec5"]
points = PackedVector2Array(32, 16, -32, 16, -32, 0, 0, -16, 32, 0)

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_yllr7"]
points = PackedVector2Array(-16, 32, -16, -32, 0, -32, 16, 0, 0, 32)

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_kb6p2"]
points = PackedVector2Array(16, -32, 16, 32, 0, 32, -16, 0, 0, -32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wodsf"]
size = Vector2(40, 40)

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_rkbax")

[node name="PlayerCatchArea" type="Area2D" parent="." groups=["Player"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerCatchArea"]
shape = SubResource("RectangleShape2D_g1dw6")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(0, 14)
texture = ExtResource("2_g1dw6")

[node name="PlayerSprite" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(0, 14)
sprite_frames = ExtResource("2_rkbax")
animation = &"idleLeft"
offset = Vector2(0, -24)

[node name="PlayerCollision" type="CollisionShape2D" parent="."]
position = Vector2(0, 13.5)
shape = SubResource("RectangleShape2D_oul6g")

[node name="Direction" type="Marker2D" parent="."]
position = Vector2(0, 13)

[node name="TalkableFinder" type="Area2D" parent="Direction"]
collision_layer = 0
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="Direction/TalkableFinder"]
position = Vector2(0, 13)
shape = SubResource("RectangleShape2D_2ieo8")

[node name="TouchControls" type="CanvasLayer" parent="."]

[node name="DPad" type="Node2D" parent="TouchControls"]
position = Vector2(0, 240)

[node name="UpButton" type="TouchScreenButton" parent="TouchControls/DPad"]
modulate = Color(1, 1, 1, 0.501961)
texture_filter = 1
position = Vector2(48, -112)
scale = Vector2(2, 2)
texture_normal = ExtResource("4_2ieo8")
texture_pressed = ExtResource("5_ebec5")
shape = SubResource("ConvexPolygonShape2D_2ieo8")
passby_press = true
action = "ui_up"

[node name="DownButton" type="TouchScreenButton" parent="TouchControls/DPad"]
modulate = Color(1, 1, 1, 0.501961)
texture_filter = 1
position = Vector2(48, -48)
scale = Vector2(2, 2)
texture_normal = ExtResource("6_yllr7")
texture_pressed = ExtResource("7_kb6p2")
shape = SubResource("ConvexPolygonShape2D_ebec5")
passby_press = true
action = "ui_down"

[node name="LeftButton" type="TouchScreenButton" parent="TouchControls/DPad"]
modulate = Color(1, 1, 1, 0.501961)
texture_filter = 1
position = Vector2(16, -80)
scale = Vector2(2, 2)
texture_normal = ExtResource("8_wodsf")
texture_pressed = ExtResource("9_32hag")
shape = SubResource("ConvexPolygonShape2D_yllr7")
passby_press = true
action = "ui_left"

[node name="RightButton" type="TouchScreenButton" parent="TouchControls/DPad"]
modulate = Color(1, 1, 1, 0.501961)
texture_filter = 1
position = Vector2(80, -80)
scale = Vector2(2, 2)
texture_normal = ExtResource("10_tqiix")
texture_pressed = ExtResource("11_e7oew")
shape = SubResource("ConvexPolygonShape2D_kb6p2")
passby_press = true
action = "ui_right"

[node name="ConfirmButton" type="TouchScreenButton" parent="TouchControls"]
modulate = Color(1, 1, 1, 0.501961)
texture_filter = 1
position = Vector2(240, 160)
scale = Vector2(2, 2)
texture_normal = ExtResource("12_yllr7")
texture_pressed = ExtResource("13_kb6p2")
shape = SubResource("RectangleShape2D_wodsf")
passby_press = true
action = "dialogue_confirm"
